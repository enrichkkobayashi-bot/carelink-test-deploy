<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROOT DEPLOY V12</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- PDF生成ライブラリの読み込み -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f8fafc;
        }

        /* 改ページ制御の基本設定 */
        .pdf-avoid-break {
            break-inside: avoid !important;
            page-break-inside: avoid !important;
        }

        .pdf-force-break {
            break-before: page !important;
            page-break-before: always !important;
        }

        /* PDF出力モードおよび印刷モード共通のスタイル */
        .pdf-export-mode .auto-expand-text {
            height: auto !important;
            min-height: auto !important;
            overflow: visible !important;
            white-space: pre-wrap !important;
        }

        @media print {
            .auto-expand-text {
                height: auto !important;
                min-height: auto !important;
                overflow: visible !important;
                white-space: pre-wrap !important;
            }
        }

        /* 入力フォームのスタイルリセット（PDF用） */
        .pdf-export-mode textarea,
        .pdf-export-mode select,
        .pdf-export-mode input {
            appearance: none !important;
            -webkit-appearance: none !important;
            border: none !important;
            border-bottom: 1px solid #e2e8f0 !important;
            background: transparent !important;
            box-shadow: none !important;
            padding: 0 !important;
            margin: 0 !important;
            resize: none !important;
            overflow: visible !important;
        }

        /* 入力フォームのスタイルリセット（印刷用） */
        @media print {

            textarea,
            select,
            input {
                appearance: none !important;
                -webkit-appearance: none !important;
                border: none !important;
                border-bottom: 1px solid #e2e8f0 !important;
                background: transparent !important;
                box-shadow: none !important;
                padding: 0 !important;
                margin: 0 !important;
                resize: none !important;
                overflow: visible !important;
            }

            /* プレースホルダーを印刷時に隠す */
            input::placeholder,
            textarea::placeholder {
                color: transparent !important;
            }

            /* 選択ボックスの矢印を消す */
            select {
                background-image: none !important;
            }
        }

        @media print {
            body {
                background: white;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
                margin: 0;
            }

            .no-print {
                display: none !important;
            }

            .print-only {
                display: block !important;
            }

            .shadow-lg,
            .shadow-md,
            .shadow-sm,
            .shadow-xl {
                box-shadow: none !important;
            }

            /* ページ設定：余白を最小限に */
            @page {
                margin: 5mm;
                size: A4 portrait;
            }

            /* コンテナの幅を強制 */
            .face-sheet-container {
                width: 100% !important;
                max-width: none !important;
                margin: 0 !important;
                box-shadow: none !important;
            }
        }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0"
  }
}
</script>
    <link rel="stylesheet" href="/index.css">
</head>

<body>
    <div id="root"></div>
    <script>
        // Inline Error Handler to catch bundle errors
        window.addEventListener('error', (event) => {
            const errorDiv = document.createElement('div');
            errorDiv.style.backgroundColor = "red";
            errorDiv.style.color = "white";
            errorDiv.style.padding = "20px";
            errorDiv.style.zIndex = "9999";
            errorDiv.style.position = "fixed";
            errorDiv.style.top = "0";
            errorDiv.style.left = "0";
            errorDiv.style.width = "100%";
            errorDiv.textContent = "Runtime Error: " + event.message + " at " + event.filename + ":" + event.lineno;
            document.body.prepend(errorDiv);
        });
        window.addEventListener('unhandledrejection', (event) => {
            const errorDiv = document.createElement('div');
            errorDiv.style.backgroundColor = "orange";
            errorDiv.style.color = "black";
            errorDiv.style.padding = "20px";
            errorDiv.style.zIndex = "9999";
            errorDiv.style.position = "fixed";
            errorDiv.style.top = "50px";
            errorDiv.style.left = "0";
            errorDiv.style.width = "100%";
            errorDiv.textContent = "Promise Rejection: " + event.reason;
            document.body.prepend(errorDiv);
        });

        const debugDiv = document.createElement('div');
        debugDiv.style.border = "2px solid green";
        debugDiv.style.padding = "10px";
        debugDiv.textContent = "VERSION 12 - ROOT DEPLOY. Time: " + new Date().toLocaleTimeString();
        document.body.appendChild(debugDiv);
    </script>
    <script type="module" src="/index.tsx"></script>
</body>

</html>